# 打赏业务前后端交互协议

## 说明
>

## 实体定义
    


## 获取打赏ID
Method | QueryName | Argument | ResultType | Description
-----  |------     |----      |----        | -------
GetRewardId      | FHE/EM1ALM/LuckyMoney/GetRewardId         | RewardArg        | RewardResult          | 获取打赏ID
    #入参：
    message RewardArg
    {
        required int32 shareId = 1;         //分享ID
        required string shareEA = 2;        //分享人所在的企业账号
        required int32 shareUserId = 3;     //分享人的用户ID
        required string shareSummary = 4;   //分享内容
        required string enterpriseAccount = 5;        //打赏人所在的企业账号
        required int32 userId = 6;                    //打赏人的用户ID
        required int32 source = 7;           //终端类型  （值参考特殊说明）
		required int32 rewardType = 8;			// 打赏类型：1，分享；2，日志；
		required double amount = 9;        //打赏金额
    }

    #输出结果：
    message RewardResult
    {
        required int32 errorCode = 1;          //0表示:成功，1表示:参数错误   2表示：系统错误   3表示：已经打赏过了
        required string errorMessage = 2;          //如果错误码不为0,此字段为错误信息摘要，如果为0,此字段为success
        required string rewardId = 3;          //打赏ID
        required string sign     = 4；         //签名
        required string merchantId =5；        //商户ID
        required string wareName   =6；        //商户名称
    }

## 获取打赏金额条款
Method | QueryName | Argument | ResultType | Description
-----  |------     |----      |----        | -------
GetAmountTerm      | FHE/EM1ALM/LuckyMoney/GetAmountTerm         | AmountTermArg        | AmountTermResult          | 获取打赏金额条款
    #入参：
    message AmountTermArg
    {
        required int32 shareId = 1;         //分享ID
        required string shareEA = 2;        //分享人所在的企业账号
        required int32 shareUserId = 3;     //分享人的用户ID
        required string enterpriseAccount = 4;        //打赏人所在的企业账号
        required int32 userId = 5;                    //打赏人的用户ID
    }

    message AmountTermResult
    {
        required int32 errorCode = 1;       //0表示成功，其它表示失败
        required string errorMessage = 2;      //如果错误码不为0,此字段为错误信息摘要，如果为0,此字段为success
        required string amountTip = 3;       //打赏弹窗中间文字
        required double maxAmount = 4;       //打赏金额上限
        required double amount = 5;       //打赏金额
        required double prebalance = 6;   //预设余额
    }

## 特殊说明

#soure值对应的说明：

0     未知

1     纷享平台

2     手机网页版

3     桌面版

4     微信版

201   iPhone网页版

202   iPad网页版

203   iPhone

204   iPad

301   Android网页版

302   Android HD网页版

303   Android

304   AndroidHD

401   WinPhone

501   IBSS

998   Driller

999   Cardio
