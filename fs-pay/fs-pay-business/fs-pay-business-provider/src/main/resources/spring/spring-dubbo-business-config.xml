<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://code.alibabatech.com/schema/dubbo
       http://code.alibabatech.com/schema/dubbo/dubbo.xsd
       ">
    <description>dubbo server端配置</description>

    <!-- Application name -->
    <dubbo:application id="businessApplication"
                       name="${business.dubbo.application.name}"
                       owner="${business.dubbo.application.owner}"
                       organization="${business.dubbo.application.organization}"
                       logger="slf4j"
                       compiler="javassist"/>

    <!-- 服务端配置  -->
    <!--协议-->
    <dubbo:protocol id="businessProtocol"
                    name="${business.dubbo.protocol.name}"
                    dispatcher="${business.dubbo.protocol.dispatcher}"
                    threadpool="${business.dubbo.protocol.threadpool}"
                    threads="${business.dubbo.protocol.threads}">
    </dubbo:protocol>

    <!--注册中心, 在本地开发环境请采用直连方式，可把 register, subscribe 都配置为false-->
    <!-- group="${business.dubbo.registry.group}" -->
    <dubbo:registry id="businessRegistry"
                    protocol="${business.dubbo.registry.name}"
                    address="${business.dubbo.registry.address}"
                    client="${business.dubbo.registry.client}"
                    session="60000"
                    register="true"
                    subscribe="true"
                    check="false" file="business-registry-cache.properties">
    </dubbo:registry>
    <!--服务-->
    <dubbo:provider id="businessProvider"
                    application="businessApplication"
                    registry="businessRegistry"
                    protocol="businessProtocol"
                    port="${business.dubbo.provider.port}"
                    cluster="${business.dubbo.provider.cluster}"
                    loadbalance="${business.dubbo.provider.loadbalance}"
                    serialization="${business.dubbo.provider.serialization}"
                    retries="${business.dubbo.provider.retries}"
                    timeout="${business.dubbo.provider.timeout}"
                    proxy="javassist"
                    delay="-1"
                    >
    </dubbo:provider>


    <!-- 客户端   配置  -->
    <dubbo:registry id="businessClientRegistry"
                    protocol="${business.dubbo.registry.name}"
                    address="${business.dubbo.registry.address}"
                    check="false" >
    </dubbo:registry>
    <dubbo:consumer id="businessConsumer"
                    registry="businessClientRegistry"
                    init="false"
                    check="${business.dubbo.consumer.check}"
                    timeout="${business.dubbo.consumer.timeout}"
                    retries="${business.dubbo.consumer.retries}" />
    
</beans>
